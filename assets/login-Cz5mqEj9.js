import{r,j as e,F as w,a as y}from"./index-WZEl8LPb.js";const N=()=>{const[t,u]=r.useState({email:"",password:"",role:"buyer"}),[l,m]=r.useState(!1),[d,a]=r.useState(""),[o,x]=r.useState(!1),[n,p]=r.useState(""),[h,j]=r.useState(0),[g,f]=r.useState(!1),i=s=>{u({...t,[s.target.name]:s.target.value})},b=s=>{if(s.preventDefault(),o){if(!t.email||!n){a("Enter your email/mobile and OTP.");return}console.log("Login with OTP:",t,n),c()}else{if(!t.email||!t.password){a("Both email/mobile and password are required.");return}if(h>=3){a("Account temporarily locked. Try again later.");return}console.log("Login with Password:",t),c()}},c=()=>{t.role==="buyer"?window.location.href="/buyer-dashboard":t.role==="dealer"?window.location.href="/dealer-dashboard":window.location.href="/admin-panel"};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-100 px-4",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-8 w-full max-w-md",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-blue-700",children:"Login"}),d&&e.jsx("p",{className:"text-red-600 text-sm mb-4",children:d}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("select",{name:"role",value:t.role,onChange:i,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"buyer",children:"Buyer"}),e.jsx("option",{value:"dealer",children:"Dealer"}),e.jsx("option",{value:"admin",children:"Admin/Verifier"})]}),e.jsx("input",{type:"text",name:"email",placeholder:"Email or Mobile",value:t.email,onChange:i,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),o?e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Enter OTP",value:n,onChange:s=>p(s.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",className:"mt-2 w-full bg-gray-100 border text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"Send OTP"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",name:"password",placeholder:"Password",value:t.password,onChange:i,className:"w-full px-3 py-2 border rounded-lg pr-10 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>m(!l),children:l?e.jsx(w,{}):e.jsx(y,{})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("label",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:s=>f(s.target.checked),className:"mr-2"}),"Remember Me"]}),e.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot Password?"})]})]}),e.jsx("p",{className:"text-sm text-center text-blue-600 cursor-pointer hover:underline",onClick:()=>{x(!o),a("")},children:o?"Login with Password":"Login with OTP"}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white py-2.5 rounded-lg hover:opacity-90 transition font-medium",children:"Login"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"ğŸ” Accounts lock after 3 failed attempts. Sessions auto-expire after inactivity."})]})})};export{N as default};
